#pragma checksum "C:\Users\jessi\OneDrive\Ambiente de Trabalho\ICI.ProvaCandidato\ICI.ProvaCandidato.Web\Views\Tag\Index.cshtml" "{8829d00f-11b8-4213-878b-770e8597ac16}" "6348a1be21502fffe8dc2f92c7e082e7c07b1bfd5f154c68c7c5c19fc526f84e"
// <auto-generated/>
#pragma warning disable 1591
[assembly: global::Microsoft.AspNetCore.Razor.Hosting.RazorCompiledItemAttribute(typeof(AspNetCore.Views_Tag_Index), @"mvc.1.0.view", @"/Views/Tag/Index.cshtml")]
namespace AspNetCore
{
    #line hidden
    using global::System;
    using global::System.Collections.Generic;
    using global::System.Linq;
    using global::System.Threading.Tasks;
    using global::Microsoft.AspNetCore.Mvc;
    using global::Microsoft.AspNetCore.Mvc.Rendering;
    using global::Microsoft.AspNetCore.Mvc.ViewFeatures;
#nullable restore
#line 1 "C:\Users\jessi\OneDrive\Ambiente de Trabalho\ICI.ProvaCandidato\ICI.ProvaCandidato.Web\Views\_ViewImports.cshtml"
using ICI.ProvaCandidato.Web;

#line default
#line hidden
#nullable disable
#nullable restore
#line 2 "C:\Users\jessi\OneDrive\Ambiente de Trabalho\ICI.ProvaCandidato\ICI.ProvaCandidato.Web\Views\_ViewImports.cshtml"
using ICI.ProvaCandidato.Web.Models;

#line default
#line hidden
#nullable disable
    [global::Microsoft.AspNetCore.Razor.Hosting.RazorSourceChecksumAttribute(@"SHA256", @"6348a1be21502fffe8dc2f92c7e082e7c07b1bfd5f154c68c7c5c19fc526f84e", @"/Views/Tag/Index.cshtml")]
    [global::Microsoft.AspNetCore.Razor.Hosting.RazorSourceChecksumAttribute(@"SHA256", @"d8cce516d9545c6313b79436eec1fa4615695139125fbf1dfa5db0c836b5cf25", @"/Views/_ViewImports.cshtml")]
    #nullable restore
    public class Views_Tag_Index : global::Microsoft.AspNetCore.Mvc.Razor.RazorPage<dynamic>
    #nullable disable
    {
        #line hidden
        #pragma warning disable 0649
        private global::Microsoft.AspNetCore.Razor.Runtime.TagHelpers.TagHelperExecutionContext __tagHelperExecutionContext;
        #pragma warning restore 0649
        private global::Microsoft.AspNetCore.Razor.Runtime.TagHelpers.TagHelperRunner __tagHelperRunner = new global::Microsoft.AspNetCore.Razor.Runtime.TagHelpers.TagHelperRunner();
        #pragma warning disable 0169
        private string __tagHelperStringValueBuffer;
        #pragma warning restore 0169
        private global::Microsoft.AspNetCore.Razor.Runtime.TagHelpers.TagHelperScopeManager __backed__tagHelperScopeManager = null;
        private global::Microsoft.AspNetCore.Razor.Runtime.TagHelpers.TagHelperScopeManager __tagHelperScopeManager
        {
            get
            {
                if (__backed__tagHelperScopeManager == null)
                {
                    __backed__tagHelperScopeManager = new global::Microsoft.AspNetCore.Razor.Runtime.TagHelpers.TagHelperScopeManager(StartTagHelperWritingScope, EndTagHelperWritingScope);
                }
                return __backed__tagHelperScopeManager;
            }
        }
        private global::Microsoft.AspNetCore.Mvc.Razor.TagHelpers.HeadTagHelper __Microsoft_AspNetCore_Mvc_Razor_TagHelpers_HeadTagHelper;
        private global::Microsoft.AspNetCore.Mvc.Razor.TagHelpers.BodyTagHelper __Microsoft_AspNetCore_Mvc_Razor_TagHelpers_BodyTagHelper;
        #pragma warning disable 1998
        public async override global::System.Threading.Tasks.Task ExecuteAsync()
        {
            WriteLiteral("<!DOCTYPE html>\r\n<html lang=\"en\">\r\n");
            __tagHelperExecutionContext = __tagHelperScopeManager.Begin("head", global::Microsoft.AspNetCore.Razor.TagHelpers.TagMode.StartTagAndEndTag, "6348a1be21502fffe8dc2f92c7e082e7c07b1bfd5f154c68c7c5c19fc526f84e3542", async() => {
                WriteLiteral("\r\n    <meta charset=\"UTF-8\">\r\n    <meta name=\"viewport\" content=\"width=device-width, initial-scale=1.0\">\r\n    <title>Visualização de Tags</title>\r\n    <link rel=\"stylesheet\" href=\"https://code.jquery.com/ui/1.12.1/themes/base/jquery-ui.css\">\r\n");
            }
            );
            __Microsoft_AspNetCore_Mvc_Razor_TagHelpers_HeadTagHelper = CreateTagHelper<global::Microsoft.AspNetCore.Mvc.Razor.TagHelpers.HeadTagHelper>();
            __tagHelperExecutionContext.Add(__Microsoft_AspNetCore_Mvc_Razor_TagHelpers_HeadTagHelper);
            await __tagHelperRunner.RunAsync(__tagHelperExecutionContext);
            if (!__tagHelperExecutionContext.Output.IsContentModified)
            {
                await __tagHelperExecutionContext.SetOutputContentAsync();
            }
            Write(__tagHelperExecutionContext.Output);
            __tagHelperExecutionContext = __tagHelperScopeManager.End();
            WriteLiteral("\r\n");
            __tagHelperExecutionContext = __tagHelperScopeManager.Begin("body", global::Microsoft.AspNetCore.Razor.TagHelpers.TagMode.StartTagAndEndTag, "6348a1be21502fffe8dc2f92c7e082e7c07b1bfd5f154c68c7c5c19fc526f84e4791", async() => {
                WriteLiteral(@"
    <h1>Tags Cadastradas</h1>
    <div>
        <label for=""search"">Pesquisar por Descrição:</label>
        <input type=""text"" id=""search"" onkeyup=""searchTags()"" placeholder=""Digite a descrição da Tag"">
    </div>
    <div>
        <input type=""text"" id=""novaTagDescricao"" placeholder=""Digite a descrição da nova Tag"">
        <button id=""cadastrarTagBtn"" class=""btn btn-primary"">Cadastrar Nova Tag</button>
    </div>
    <table id=""tagsTable"">
        <thead>
            <tr>
                <th>ID</th>
                <th>Descrição</th>
                <th>Ações</th>
            </tr>
        </thead>
        <tbody id=""tagsTableBody"">

        </tbody>
    </table>


    <div id=""editTagForm"" style=""display: none;"">
        <h2>Editar Descrição da Tag</h2>
        <label for=""editTagDescricao"">Nova Descrição:</label>
        <input type=""text"" id=""editTagDescricao"">
        <button id=""salvarTagBtn"" class=""btn btn-primary"">Salvar</button>
        <button id=""cancelarEdicaoBtn"" c");
                WriteLiteral(@"lass=""btn btn-secondary"">Cancelar</button>
    </div>


    <script src=""https://code.jquery.com/jquery-3.6.0.min.js""></script>
    <script src=""https://code.jquery.com/ui/1.12.1/jquery-ui.js""></script>
    <script>
        
        function searchTags() {
            var input, filter, table, tr, td, i, txtValue;
            input = document.getElementById(""search"");
            filter = input.value.toUpperCase();
            table = document.getElementById(""tagsTable"");
            tr = table.getElementsByTagName(""tr"");
            for (i = 0; i < tr.length; i++) {
                td = tr[i].getElementsByTagName(""td"")[1]; 
                if (td) {
                    txtValue = td.textContent || td.innerText;
                    if (txtValue.toUpperCase().indexOf(filter) > -1) {
                        tr[i].style.display = """";
                    } else {
                        tr[i].style.display = ""none"";
                    }
                }
            }
        }

      ");
                WriteLiteral(@"  
        function carregarTags() {
            $.ajax({
                url: '/api/Tag/GetAll', 
                type: 'GET',
                success: function (response) {
                    var tags = response; 
                    var tableBody = $('#tagsTableBody');
                    tableBody.empty();
                    $.each(tags, function (index, tag) {
                        var row = $('<tr>');
                        row.append($('<td>').text(tag.id));
                        row.append($('<td>').text(tag.descricao));
                        var actions = $('<td>');
                        actions.append($('<button>').attr('onclick', 'editarTag(' + tag.id + ')').text('Editar'));
                        actions.append(' | ');
                        actions.append($('<button>').attr('onclick', 'excluirTag(' + tag.id + ')').text('Excluir'));
                        row.append(actions);
                        tableBody.append(row);
                    });
                },");
                WriteLiteral(@"
                error: function (xhr, status, error) {
                    console.error(error);
       
                }
            });
        }


        function editarTag(id) {
            var descricaoAtual = $('#tagsTableBody').find('tr[data-id=""' + id + '""]').find('td:eq(1)').text();
            $('#editTagDescricao').val(descricaoAtual);
            $('#editTagForm').show();
            $('#editTagForm').data('tagId', id);
        }


        $('#cancelarEdicaoBtn').click(function () {
            $('#editTagForm').hide();
        });

        
        $('#salvarTagBtn').click(function () {
            var id = $('#editTagForm').data('tagId');
            var novaDescricao = $('#editTagDescricao').val();
            $.ajax({
                url: '/api/Tag/Update/' + id,
                type: 'PUT',
                data: { descricao: novaDescricao },
                success: function (response) {
                    console.log('Descrição da Tag atualizada com sucesso!");
                WriteLiteral(@"');
                    carregarTags();
                    $('#editTagForm').hide();
                },
                error: function (xhr, status, error) {
                    alert('Erro ao editar a descrição da Tag: ' + error);
                }
            });
        });

        
        function excluirTag(id) {
            $.ajax({
                url: '/api/Tag/Delete/' + id,
                type: 'DELETE',
                success: function (response) {
                    carregarTags();
                },
                error: function (xhr, status, error) {
                    alert('Erro ao excluir a Tag: ' + error);
                }
            });
        }

       
        $('#cadastrarTagBtn').click(function () {
            var novaTagDescricao = $('#novaTagDescricao').val();
            var novaTag = {
                Descricao: novaTagDescricao
            };
            $.ajax({
                url: '/api/Tag/Create',
                type: 'POST',
   ");
                WriteLiteral(@"             contentType: 'application/json', 
                data: JSON.stringify(novaTag),
                success: function (response) {
                    alert('Tag cadastrada com sucesso!');
                    carregarTags();
                    $('#novaTagDescricao').val('');
                },
                error: function (xhr, status, error) {
                    alert('Erro ao cadastrar a Tag: ' + error);
                }
            });
        });

 
        $(document).ready(function () {
            carregarTags();
        });
    </script>
");
            }
            );
            __Microsoft_AspNetCore_Mvc_Razor_TagHelpers_BodyTagHelper = CreateTagHelper<global::Microsoft.AspNetCore.Mvc.Razor.TagHelpers.BodyTagHelper>();
            __tagHelperExecutionContext.Add(__Microsoft_AspNetCore_Mvc_Razor_TagHelpers_BodyTagHelper);
            await __tagHelperRunner.RunAsync(__tagHelperExecutionContext);
            if (!__tagHelperExecutionContext.Output.IsContentModified)
            {
                await __tagHelperExecutionContext.SetOutputContentAsync();
            }
            Write(__tagHelperExecutionContext.Output);
            __tagHelperExecutionContext = __tagHelperScopeManager.End();
            WriteLiteral("\r\n</html>");
        }
        #pragma warning restore 1998
        #nullable restore
        [global::Microsoft.AspNetCore.Mvc.Razor.Internal.RazorInjectAttribute]
        public global::Microsoft.AspNetCore.Mvc.ViewFeatures.IModelExpressionProvider ModelExpressionProvider { get; private set; } = default!;
        #nullable disable
        #nullable restore
        [global::Microsoft.AspNetCore.Mvc.Razor.Internal.RazorInjectAttribute]
        public global::Microsoft.AspNetCore.Mvc.IUrlHelper Url { get; private set; } = default!;
        #nullable disable
        #nullable restore
        [global::Microsoft.AspNetCore.Mvc.Razor.Internal.RazorInjectAttribute]
        public global::Microsoft.AspNetCore.Mvc.IViewComponentHelper Component { get; private set; } = default!;
        #nullable disable
        #nullable restore
        [global::Microsoft.AspNetCore.Mvc.Razor.Internal.RazorInjectAttribute]
        public global::Microsoft.AspNetCore.Mvc.Rendering.IJsonHelper Json { get; private set; } = default!;
        #nullable disable
        #nullable restore
        [global::Microsoft.AspNetCore.Mvc.Razor.Internal.RazorInjectAttribute]
        public global::Microsoft.AspNetCore.Mvc.Rendering.IHtmlHelper<dynamic> Html { get; private set; } = default!;
        #nullable disable
    }
}
#pragma warning restore 1591
